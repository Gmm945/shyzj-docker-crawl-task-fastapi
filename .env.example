# ===========================================
# 数据平台API服务环境变量配置示例
# ===========================================

# ===========================================
# 认证相关配置
# ===========================================
# JWT访问令牌过期时间（分钟），默认5小时
ACCESS_TOKEN_EXPIRE_MINUTES=300

# JWT密钥，用于签名和验证令牌
SECRET_KEY=data-platform-secret-key

# JWT算法，默认HS256
ALGORITHM=HS256

# 认证开关，设置为False可以一键关闭所有认证
ENABLE_AUTH=True

# ===========================================
# 应用配置
# ===========================================
# CORS配置
APP_CORS=

# 应用密钥
APP_SECRET_KEY=data-platform-app-secret

# 前端URI
APP_FRONT_URI=

# CORS允许的源
APP_CORS_ALLOW_ORIGINS=

# ===========================================
# 数据库配置（必需）
# ===========================================
# 数据库名称
DATABASE_DB_NAME=data_platform

# 数据库连接配置
DATABASE_HOST=localhost
DATABASE_PORT=3306
DATABASE_USER=root
DATABASE_PASSWORD=
DATABASE_CHARSET=utf8mb4

# 数据库连接池配置（异步）
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=30
DATABASE_POOL_TIMEOUT=60
DATABASE_POOL_RECYCLE=1800
DATABASE_POOL_PRE_PING=True
DATABASE_ECHO=False

# Worker数据库连接池配置（同步）
WORKER_DATABASE_POOL_SIZE=10
WORKER_DATABASE_MAX_OVERFLOW=20
WORKER_DATABASE_POOL_TIMEOUT=30
WORKER_DATABASE_POOL_RECYCLE=1800
WORKER_DATABASE_POOL_PRE_PING=True
WORKER_DATABASE_ECHO=False

# ===========================================
# Redis配置（必需）
# ===========================================
# Redis主机地址
REDIS_HOST=localhost

# Redis端口
REDIS_PORT=6379

# Redis数据库编号
REDIS_DB=0

# Redis密码
REDIS_PASSWORD=

# ===========================================
# Celery数据库配置
# ===========================================
# Celery Broker数据库编号
CELERY_BROKER_DB=1

# Celery Result Backend数据库编号
CELERY_RESULT_BACKEND_DB=2

# ===========================================
# 日志配置
# ===========================================
# 日志级别：DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=DEBUG

# 调试模式
DEBUG=False

# ===========================================
# Docker配置
# ===========================================
# Docker主机地址，默认本地socket
DOCKER_HOST=unix:///var/run/docker.sock

# Docker主机IP地址
DOCKER_HOST_IP=localhost

# SSH登录用户名
SSH_USER=root

# 容器运行结束后是否自动删除
DOCKER_AUTO_REMOVE=False

# stop接口是否删除容器
DOCKER_REMOVE_ON_STOP=False

# Docker配置文件路径
DOCKER_CONFIG_PATH=/app/configs

# ===========================================
# Docker镜像配置
# ===========================================
# 爬虫服务镜像
DOCKER_CRAWLER_IMAGE=crawler-service:latest

# API服务镜像
DOCKER_API_IMAGE=data-collection-api:latest

# 数据库服务镜像
DOCKER_DATABASE_IMAGE=data-collection-database:latest

# ===========================================
# 端口配置
# ===========================================
# API服务端口
API_PORT=8000

# 监控端口
METRICS_PORT=9090

# 容器端口范围开始
PORT_RANGE_START=50001

# 容器端口范围结束
PORT_RANGE_END=50100

# ===========================================
# API访问配置
# ===========================================
# 自定义API基础URL，留空则自动生成
API_BASE_URL=

# ===========================================
# 任务配置
# ===========================================
# 最大并发任务数
MAX_CONCURRENT_TASKS=10

# 任务超时时间（秒），默认1小时
TASK_TIMEOUT=3600

# 心跳超时时间（秒），默认5分钟
HEARTBEAT_TIMEOUT=300

# ===========================================
# 文件存储配置
# ===========================================
# 文件上传目录
UPLOAD_DIR=./uploads

# 最大文件大小（MB）
MAX_FILE_SIZE=100

# ===========================================
# 监控配置
# ===========================================
# 是否启用监控
MONITORING_ENABLED=True

# 任务监控轮询间隔（秒）
MONITOR_CHECK_INTERVAL=30

# 心跳冗余时间（秒）
HEARTBEAT_REDUNDANCY=60

# ===========================================
# 时区配置
# ===========================================
# 系统时区
TIMEZONE=Asia/Shanghai

# ===========================================
# 安全配置
# ===========================================
# 允许的主机
ALLOWED_HOSTS=*

# 是否启用速率限制
RATE_LIMIT_ENABLED=True

# 速率限制请求数
RATE_LIMIT_REQUESTS=100

# 速率限制时间窗口（秒）
RATE_LIMIT_WINDOW=60

# ===========================================
# 管理员配置
# ===========================================
# 管理员密码
ADMIN_PASSWORD=admin123
