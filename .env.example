########################################
# 数据采集任务管理系统 - 环境变量配置示例
# 复制此文件为 .env 并根据实际环境修改配置值
########################################

########################################
# 认证和安全配置
########################################
# JWT Token 过期时间（分钟）
ACCESS_TOKEN_EXPIRE_MINUTES=300

# JWT 密钥（生产环境请使用强密码）
SECRET_KEY=data-platform-secret-key

# JWT 算法
ALGORITHM=HS256

# 认证开关 - 设置为 false 可以一键关闭所有认证
ENABLE_AUTH=true

# 管理员密码（生产环境请修改）
ADMIN_PASSWORD=admin123

########################################
# 应用配置
########################################
# 跨域配置
APP_CORS=
APP_FRONT_URI=
APP_CORS_ALLOW_ORIGINS=

# 应用密钥
APP_SECRET_KEY=data-platform-app-secret

########################################
# 数据库配置
########################################
# MySQL 数据库连接字符串
DATABASE_URL=mysql+aiomysql://app_user:123456@localhost:3306/data_platform

# 数据库名称
DATABASE_DB_NAME=data_platform

########################################
# Redis 配置
########################################
# Redis 连接字符串
REDIS_URL=redis://localhost:6379/0

# Redis 主机配置
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=

########################################
# Celery 异步任务配置
########################################
# Celery Broker（Redis）
CELERY_BROKER_URL=redis://localhost:6379/1

# Celery Result Backend（Redis）
CELERY_RESULT_BACKEND=redis://localhost:6379/2

########################################
# 日志和调试配置
########################################
# 日志级别：DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=DEBUG

# 调试模式
DEBUG=false

########################################
# Docker 配置
########################################
# Docker 主机配置
DOCKER_HOST=unix:///var/run/docker.sock
DOCKER_HOST_IP=192.168.1.100

# Docker 镜像配置
DOCKER_CRAWLER_IMAGE=crawler-service:latest
DOCKER_API_IMAGE=data-collection-api:latest
DOCKER_DATABASE_IMAGE=data-collection-database:latest

# 容器服务端口（容器内服务端口）
CONTAINER_SERVICE_PORT=8000

# Docker 容器管理
DOCKER_AUTO_REMOVE=false
DOCKER_REMOVE_ON_STOP=false

# SSH 配置（用于远程 Docker 主机）
SSH_USER=root

# Docker 配置路径
DOCKER_CONFIG_PATH=/app/configs

# 端口范围配置（用于端口映射）
PORT_RANGE_START=50001
PORT_RANGE_END=50100

########################################
# API 访问配置
########################################
# API 端口
API_PORT=8000

# API 基础 URL（供容器心跳回调使用，留空则按 DOCKER_HOST_IP/API_PORT 自动构建）
API_BASE_URL=

########################################
# 任务配置
########################################
# 最大并发任务数
MAX_CONCURRENT_TASKS=10

# 任务超时时间（秒）
TASK_TIMEOUT=3600

# 心跳超时时间（秒）
HEARTBEAT_TIMEOUT=300

# 心跳冗余时间（秒）
HEARTBEAT_REDUNDANCY=60

########################################
# 文件存储配置
########################################
# 上传目录
UPLOAD_DIR=./uploads

# 最大文件大小（MB）
MAX_FILE_SIZE=100

########################################
# 监控配置
########################################
# 监控开关
MONITORING_ENABLED=true

# 监控指标端口
METRICS_PORT=9090

# 监控检查间隔（秒）
MONITOR_CHECK_INTERVAL=30

########################################
# 系统配置
########################################
# 时区
TIMEZONE=Asia/Shanghai

# 允许的主机
ALLOWED_HOSTS=*

# 限流配置
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60

########################################
# 配置说明
########################################
# 1. 生产环境部署时，请务必修改以下敏感配置：
#    - SECRET_KEY: 使用强密码
#    - ADMIN_PASSWORD: 修改默认管理员密码
#    - DATABASE_URL: 配置生产数据库
#    - REDIS 相关配置: 配置生产 Redis
#
# 2. Docker 配置：
#    - DOCKER_HOST_IP: 设置为实际的 Docker 主机 IP
#    - PORT_RANGE_START/END: 根据实际需求调整端口范围
#    - SSH_USER: 如果使用远程 Docker 主机，配置正确的 SSH 用户名
#
# 3. 网络配置：
#    - API_BASE_URL: 如果容器无法通过 DOCKER_HOST_IP 访问 API，请设置完整 URL
#    - APP_CORS: 配置前端域名以启用跨域
#
# 4. 性能调优：
#    - MAX_CONCURRENT_TASKS: 根据服务器性能调整
#    - TASK_TIMEOUT: 根据任务复杂度调整
#    - MONITOR_CHECK_INTERVAL: 根据监控需求调整检查频率
